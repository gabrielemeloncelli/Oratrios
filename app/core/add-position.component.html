<modal [animation]="animation" [keyboard]="keyboard" [backdrop]="backdrop" [size]="'lg'" #addModal>
  <form (ngSubmit)="onSubmit()" #addPositionForm="ngForm">
    <modal-header [show-close]="true">
        <h4 class="modal-title">Position details</h4>
    </modal-header>
    <modal-body>
      <div class="form-group" style="background-color:#D3D3D3">
      <div class="group-part-block">
        <label for="groupSel" id="groupLabel">Group&nbsp;</label>
        <div class="selectContainer" id="groupSel">
          <ng-select #groupSelect [allowClear]="false"
                    [items]="groups"
                    [disabled]="groupsDisabled"
                    [initData]="groupBg"
                    (selected)="groupSelected($event)"
                    (removed)="removed($event)"
                    (typed)="typed($event)"
                    placeholder="No group selected">
          </ng-select>
        </div>
      </div>
      <div class="group-part-block">
        <label for="partSel">Part&nbsp;</label>
        <div class="selectContainer">
          <ng-select #partSelect id="partSel" name="partSel" [allowClear]="false"
                    [items]="parts"
                    [disabled]="groupsDisabled"
                    [initData]="groupBg"
                    (selected)="partSelected($event)"
                    (removed)="removed($event)"
                    (typed)="typed($event)"
                    placeholder="No part selected">
          </ng-select>
        </div>
      </div>
      <div style="clear: both; height: 10px; width: 10px">
      </div>
      <div *ngIf="uiStatusService.tablesAndSizesVisible">
          <div *ngFor="let table of tables">
            <label>{{table.description}}</label>
            <ng-select [allowClear]="true"
                      [items]="table.detailItems"
                    (selected)="tableSelected($event, table.name)"
                    (removed)="tableRemoved(table.name)"
                    (typed)="typed($event)"
                    placeholder="No detail selected">
            </ng-select>

        </div>
        <div style="clear: both; height: 10px; width: 10px">
        </div>
        <div>
        <div style="float: left">
          <label for="size1">Size 1</label>
          <input type="text" name="size1" id="size1" [(ngModel)]="size1" class="size-class form-control"/>
        </div>
        <div style="float: left">
          <label for="size2">Size 2</label>
          <input type="text" name="size2" id="size2" [(ngModel)]="size2" class="size-class form-control"/>
        </div>
        <div style="float: left">
          <label for="size3">Size 3</label>
          <input type="text" name="size3" id="size3" [(ngModel)]="size3" class="size-class form-control"/>
        </div>
        <div style="float: left">
          <label for="size4">Size 4</label>
          <input type="text" name="size4" id="size4" [(ngModel)]="size4" class="size-class form-control"/>
        </div>
        <div style="float: left">
          <label for="size5">Size 5</label>
          <input type="text" name="size5" id="size5" [(ngModel)]="size5" class="size-class form-control"/>
        </div>
        <div style="clear: both; height: 10px; width: 10px">
        </div>
        <button class="btn btn-default pull-right" (click)="findMaterial()">Find</button>
        <div style="clear: both"></div>
        </div>
      </div>
    </div>
        <div *ngIf="uiStatusService.tablesAndSizesVisible && uiStatusService.materialsVisible" style="padding:5px">
          <table class="table-bordered" style="width: 800px">
            <thead>
              <tr style="font-weight: bold">
                <td>Commodity Code</td>
                <td>Size</td>
                <td>Description</td>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let material of materials">
                <td>{{material.commodityCode}}</td>
                <td>{{material.size}}</td>
                <td>{{material.description}}</td>
                <td><a class="btn btn-xs btn-success" (click)="selectMaterial(material.id)"><span class="glyphicon glyphicon-check"></span></a></td>
              </tr>
            </tbody>
          </table>
        </div>
      <div *ngIf="_selectedMaterialVisible" style="padding: 5px">
        <div class="pull-left">
          <label>Ident Code</label>
          <input type="text" [value]="_selectedMaterial.identCode" class="form-control" name="identCode" disabled="true" style="width: 80px"/>
        </div>
        <div class="pull-left">
          <label>Commodity Code</label>
          <input type="text" [value]="_selectedMaterial.commodityCode" class="form-control" name="commodityCode" disabled="true"  style="width: 180px"/>
        </div>
        <div class="pull-left">
          <label>Size</label>
          <input type="text" [value]="_selectedMaterial.size" class="form-control" name="size" disabled="true"  style="width: 120px"/>
        </div>
        <div class="pull-left">
          <label>Description</label>
          <input type="text" [value]="_selectedMaterial.description" class="form-control" name="materialDescription" disabled="true" style="width: 450px"/>
        </div>
        <div style="width: 1px; height: 1px; clear: both"></div>
      </div>
      <div *ngIf="_tagAndQuantityVisible" style="padding: 5px">
        <div class="pull-right">
          <label>Quantity</label>
          <input type="text" [(ngModel)]="position.quantity" class="form-control" name="quantity" required/>
        </div>
        <div class="pull-left">
          <label>Tag</label>
          <input type="text" [(ngModel)]="position.tag" name="tag" class="form-control"/>
        </div>
        <div style="clear: both"></div>
      </div>
    </modal-body>

    <modal-footer>
      <button type="button" class="btn btn-default" (click)="resetPosition()">Reset</button>
        <button type="submit" class="btn btn-default" data-dismiss="modal" [disabled]="!_tagAndQuantityVisible || !addPositionForm.form.valid">Add</button>
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="navigateModal.dismiss()">Cancel</button>
    </modal-footer>
  </form>
</modal>
