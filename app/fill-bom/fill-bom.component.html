<div class="row">
<nav class="col-sm-5">
  <a class='btn btn-success' href="index.html">Select project</a>
  <a class='btn btn-success' (click)='exportFile()'> Export OMI file</a>
<tree-viewx [message]="outMessage">Loading Tree ...</tree-viewx>
</nav>
<div class="col-sm-7">
  <header>
  </header>
  <div>
    <positions-list></positions-list>
  </div>
<div>
  <addposition></addposition>
</div>
<modal [animation]="animation" [keyboard]="keyboard" [backdrop]="backdrop" (onClose)="storeNode()" #navigateModal>
    <modal-header [show-close]="true">
        <h4 class="modal-title">Node details</h4>
    </modal-header>
    <modal-body>
      <div>
        <label for="nodeType">Node type&nbsp;</label>
        <ng-select
          *ngIf="!nodeTypeChangeDisabled"
          name="nodeType"
          #nodeTypeSelector [allowClear]="false"
          [options]="nodeTypeOptions"
          (selected)="nodeTypeSelected($event)"
          [placeholder]="nodeSelectorPlaceholder"
          class="ng-select">
        </ng-select>
        <div *ngIf="nodeTypeVisible" class="btn-group" dropdown>
          <button id="split-button" type="button" class="btn btn-primary">Node Type</button>
          <button type="button" class="btn btn-primary dropdown-toggle-split" dropdownToggle>
            <span class="caret"></span>
            <span class="sr-only">Split button!</span>
          </button>
          <ul class="dropdown-menu" dropdownMenu role="menu" aria-labelledby="split-button">
            <li *ngFor="let nodeType of nodeTypes" role="menuitem"><a class="dropdown-item" (click)="nodeTypeSelected2(nodeType)">{{nodeType.code + " - " + nodeType.shortDescription}}</a></li>
          </ul>
        </div>
        <label class="form-control">{{changedNode.type}}</label>
      </div>
      <p>
        <label for="nodeName">Node name&nbsp;</label>
        <br/>
        <input *ngIf="!nodeNameDisabled && !nameIsPullDown" class="form-control" name="nodeName" id="nodeName" [(ngModel)]="changedNode.name" #nodeName />
        <ng-select
          *ngIf="!nodeNameDisabled && nameIsPullDown"
          name="nodeName"
          #nodeNameSelector [allowClear]="false"
          [options]="nodeNameOptions"
          (selected)="nodeNameSelected($event)"
          placeholder="Select / Change node name"
          class="ng-select">
        </ng-select>
        
        <span *ngIf="nodeNameDisabled" class="form-control" name="nodeName" id="nodeName">{{changedNode.name}}</span>
      </p>
      <p *ngIf="confirmStoreNode">
        <label class="form-control">{{warningMessage}}</label>
        <br/>
        <button type="button" class="btn btn-warning" (click)="storeNodeConfirm()">Confirm</button>
      <p>
    </modal-body>
    <modal-footer>
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="navigateModal.dismiss()">Cancel</button>
        <button type="button" class="btn btn-primary" autofocus (click)="tryStoreNode()">{{confirmButtonText}}</button>
    </modal-footer>
</modal>
